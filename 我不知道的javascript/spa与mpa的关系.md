# 概念

    SPA：Single Page Application，单页面应用，简称spa。

    MPA：Multi Page Application，多页面应用，简称mpa。


万事不决，先读定义，定义往往非常简单和清晰。这里先给概念中的“页面”做个定义（只是说下面提到的页面两个字是这个定义）：
- 一个html文档，对应一个页面

所以当你有个基于web的应用，应用里有多个相互独立的模块，很显然你可以选择：
- 所有功能模块都写一个页面里，然后通过逻辑（一般我们管这个逻辑叫路由）去切换不同的模块
- 各个功能模块写在不同的页面里，通过不同的url（这也是路由）访问不同的页面

上面的两个选择也导致了SPA和MPA最重要的不同，SPA的应用在切换页面时一般不需要访问新的链接（所有功能都在当前一个页面里），而MPA的页面则会涉及不同页面之间的跳转。


# 用vue等框架写的就是spa吗？

关于spa和mpa有个非常常见的误区：

- 认为vue、react等现代框架编写的就是SPA

其实这个误区来自于，这种现代前端框架中通常集成了前端路由，然后通过路由加载不同的模块页面。这里的问题是：

只能说vue或者react可以用来实现一个spa的应用，并不代表用它们实现的应用就一定是spa。区分spa和mpa的区别仍然只有，就是你应用里到底有几个页面。


# spa和mpa有什么优势劣势？

## 体验方面

就如定义所言，spa只有一个真正的页面，在“切换页面”时候并不用发生url跳转，本质上只是一个页面内不同模块之间的切换，表现的就像不需要加载一样，一致性会更好。

mpa因为是多个页面，在“切换页面”时候是真的在切换页面，需要浏览器去拉取新的页面然后渲染，体验上会有一定的割裂感。


## SEO方面

spa的应用大多数是用vue、react等这样的前端框架去开发的，这种前端框架开发的页面一个重要的特点是：

- html只是一个空壳子，执行js才会将各种DOM挂载到页面上去

mpa的应用大多数是用php-smarty等模版引擎技术开发的，这种页面的

- 一般html内已经有全部或者部分页面内容了

搜索引擎在抓取页面的时候，只会抓取html，不会执行里面的js代码，所以对于大多数spa的应用来说搜索引擎只会拿到一个空壳，而大多mpa的应用是可以被搜索引擎抓取到确切内容的，显然后者对搜索引擎更友好。

## 性能方面

正如SEO下说的二者的区别，SPA一般html是个空壳子，需要执行js之后才会有页面内容，所以通常spa的首屏性能会比较差，如FCP等指标表现不会太好。

而且SPA的应用因为把所有东西都塞到了一个页面的js里，所以js会很大，这也会影响性能。

但是也因为它全塞一起了，第二个页面会更快一些，MPA恰好相反，第一个页面快一些，第二个页面又得请求新的文件，反而慢一点。

## SSR

为了解决SEO和首屏性能的问题，针对SPA的应用提出了一个技术方案叫SSR，即服务端渲染。就是把渲染页面用的js在服务端执行一下，得到有内容的html，表现的就好像你提前写好了这些html一样。


# 一般的技术选型方案

首先现代前端工程基本没人手写原生html + js了，肯定都会上vue等现代前端框架。当你的项目只有一个页面时，其实无所谓SPA与MPA的区别，只有用前端框架和不用前端框架的区别。

其次当项目中有多个页面时，可以根据多个页面之间的关系来选择时走SPA的路线还是MPA的路线，甚至二者混合。

比如对于网页邮箱应用，发件、收件等功能关联度很高，也许你会选择在一个页面通过前端路由实现，那相当于走了SPA的路线。

对于一些运营活动类的，除了活动主页、游戏页面等放在一个页面里，剩下的规则页、分享页等业务上没有很强的关系，所以你可能会选择将这些页面独立编写，这相当于走了SPA + MPA的路线。



