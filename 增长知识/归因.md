# 归因是什么

将转化功劳合理分配给转化渠道上的接触点

# 为什么要归因

- 合理追溯每条投放广告带给广告主的转化
- 衡量渠道质量，合理分渠道预算
- 识别渠道特征，针对性进行业务策略调整

# 归因难点

- 数据分散在各个渠道，如何评估渠道效果
- 安卓厂商劫持下载，导致实际成本偏高，得出错误的渠道评估效果
- 资源有限，分配需要谨慎
- 渠道商自归因服务是黑盒，可信度无保障，不利于增长业务分析

# 如何归因

在合适的时间窗口内匹配渠道信号与端信号，分配用户的转化行为
- 明确因果，什么人在什么渠道什么设备做了什么事

归因框架设计，在广告点击的时候通过电展监测服务上报点击、曝光、设备信息，完成下载打开APP时候再次上报设备信息，然后通过归因服务进行归因匹配。

# 归因关键点

行为信号，通过设备标识关联，在归因窗口内根据优先级进行归属

- 行为信号
  - 媒体回传和增长打点
- 设备标识
  - 设备号、IMEI、MAC地址、OAID、IDFA、渠道号、IP、UA
    - IMEI > OAID > MAC > andriodID
    - IDFA > CAID >IDFV
- 归因窗口
  - 取行为信号距离激活新增占比90%以上区间为归因窗口
- 优先级
  - 行为主动性，一般点击 > 曝光

确定归出方和归入方
- 归出方：预装是全量的，归因前都会算在这个渠道，归因变化增幅都会是负的。
  - 预装
  - 商店免费
- 归入方
  - 安卓商店付费
  - 安卓三方商店付费
  - 苹果三方商店付费
  - appstore
  - DSP
  - SEM
  - 邀请裂变
  - 免费活动

# 归因策略和形态的多样化

- 信号填充率
  - 丰富信号
    - 行为信号：引入播放、浏览等行为，强化归因模型
    - 指纹信号：引入更多指纹信息，如CAID、系统更新时间+开机时间等
- 归因策略制定和衡量
  - 不同归因策略组合
    - 归前：通过渠道维表实现白名单生效范围，制定归入归出场景；建立归因策略准召回评估机智
    - 归后：定期review优先级和时间窗口合理性，根据业务诉求逐步迭代
- 归因模型多样化
  - 归因策略平台化：自定义调整时间窗口和优先级，多维度对比不同归因策略的效果
  - 引入其它归因模型（目前大多是末次归因模型）：首次归因模型、平均分配归因模型、时间衰减归因模型、位置归因模型、算法归因模型


# 归因的框架
平台视角的归因
- 启发式归因：利用想对简单的规则去计算各个触点提供了多少贡献，认为影响比较大
  - 单触点归因
    - 最终互动
      - 决策路径比较短的效果广告
    - 最终非直接互动
      - 部分广告的最后一个渠道是购物车，但是实际上倒数第二个渠道才是交易成功最关键的渠道
    - 首次互动
      - 适用于品牌推广的初期
  - 多触点归因
    - 线性归因
      - 贡献平均分配到所有的触点渠道
    - 线性衰减
      - 距离最终转化的节点越近，对达成转化的贡献越大
    - 位置归因（U型归因）
      - 首次互动节点完成资料线索的手机，最终节点完成最终转化，以上节点贡献最大
- 算法归因
  - shapley value
    - 参与者的价值与其贡献对等，价值等于该参与者按不同顺序加入时，带来边际贡献的平均
    - 要求的算力相对更小，对海量数据且渠道众多的公司更友好
    - 谷歌、巨量引擎
    - 不区分时间先后，算力要求相对小，广告常用
  - 马尔科夫
    - 用户解除到各个渠道可以理解成状态，通过卡尔可夫建模计算出各个渠道的贡献率（各路径的转移概率P），实现高效选择转化路径
      - 构造有向图
      - 计算整体转化率
      - 计算移除效应
    - 区分时间先后，算力要求大，电商用的多
  - 生存分析
  - 路径分析
广告主视角的增长归因
- mapping归因
  - 通过设备ID等信息来匹配归因，最大特点是转化链路的信息无法透传
  - 模糊归因，IP + UA或者IP + UA + model
  - 渠道包归因，投放、商店上架、导流换量
    - 操作简单
    - 商店劫持、抓包、容易刷量，导致准确性不够稳定，往往作为补充
    - 抓包会污染原渠道和抓包渠道的统计数据，影响不同渠道配置策略
    - 华为应用商店智能分包，区分自然下载和付费推广效果，方便合作伙伴进行归因
  - 剪贴板归因
- 链路式归因
  - 通过唯一的追踪ID，把广告的曝光、点击、下载安装都串联起来，实现广告路径的完整归因，好处是无需依赖设备ID，局限是需要系统或者第三方提供接口将核心链路转化一直透传给广告应用

全渠道归因方案

非付费渠道归因架构
- 付费渠道本身就拥有完善的归因闭环（媒体侧主动回传设备号），针对非付费渠道利用剪贴板为主、渠道包为辅、模糊归因兜底来进行归因

